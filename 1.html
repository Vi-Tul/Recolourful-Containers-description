<!DOCTYPE html>
<html>
<head>
<style>
.comparison-slider {
  position: relative;
  width: 100%;
  max-width: 2988px;
  margin: 20px auto;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.comparison-container {
  position: relative;
  width: 100%;
  height: 0;
  padding-bottom: 178.2%; /* 5328/2988 = 1.782 */
}

.comparison-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.image-dark {
  z-index: 1;
}

.image-light {
  z-index: 2;
  clip-path: polygon(0 0, 50% 0, 50% 100%, 0 100%);
}

.slider-handle {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 4px;
  height: 100%;
  background: #fff;
  cursor: col-resize;
  z-index: 3;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
}

.slider-handle::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 40px;
  height: 40px;
  background: #fff;
  border-radius: 50%;
  border: 3px solid #333;
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
}

.slider-handle::after {
  content: 'â†”';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 16px;
  font-weight: bold;
  color: #333;
}

.slider-labels {
  display: flex;
  justify-content: space-between;
  margin-top: 10px;
  font-family: Arial, sans-serif;
  font-size: 14px;
  color: #666;
  padding: 0 10px;
}

.slider-labels span:first-child {
  color: #fff;
  background: #333;
  padding: 2px 8px;
  border-radius: 4px;
}

.slider-labels span:last-child {
  color: #333;
  background: #f0f0f0;
  padding: 2px 8px;
  border-radius: 4px;
}

/* Responsive design */
@media (max-width: 1200px) {
  .comparison-slider {
    max-width: 90%;
  }
}
</style>
</head>
<body>

<div class="comparison-slider" id="imageSlider">
  <div class="comparison-container">
    <img src="https://raw.githubusercontent.com/ViTulyankin/Recolourful-Containers-GUI/description/dark/graphic.png" 
         alt="Dark Version" class="comparison-image image-dark">
    <img src="https://raw.githubusercontent.com/ViTulyankin/Recolourful-Containers-GUI/description/light/graphic.png" 
         alt="Light Version" class="comparison-image image-light">
    <div class="slider-handle" id="sliderHandle"></div>
  </div>
  <div class="slider-labels">
    <span>Dark Version</span>
    <span>Light Version</span>
  </div>
</div>

<script>
class ImageComparisonSlider {
  constructor(containerId) {
    this.container = document.getElementById(containerId);
    this.sliderHandle = this.container.querySelector('#sliderHandle');
    this.lightImage = this.container.querySelector('.image-light');
    this.isDragging = false;
    
    this.init();
  }
  
  init() {
    this.sliderHandle.addEventListener('mousedown', this.startDrag.bind(this));
    this.sliderHandle.addEventListener('touchstart', this.startDrag.bind(this));
    
    document.addEventListener('mousemove', this.drag.bind(this));
    document.addEventListener('touchmove', this.drag.bind(this));
    document.addEventListener('mouseup', this.stopDrag.bind(this));
    document.addEventListener('touchend', this.stopDrag.bind(this));
    
    // Click to set position
    this.container.addEventListener('click', (e) => {
      if (!this.isDragging) {
        this.setSliderPosition(e.clientX || e.touches[0].clientX);
      }
    });
  }
  
  startDrag(e) {
    e.preventDefault();
    this.isDragging = true;
    this.container.style.userSelect = 'none';
  }
  
  drag(e) {
    if (!this.isDragging) return;
    
    e.preventDefault();
    const clientX = e.clientX || (e.touches && e.touches[0].clientX);
    if (clientX) {
      this.setSliderPosition(clientX);
    }
  }
  
  stopDrag() {
    this.isDragging = false;
    this.container.style.userSelect = '';
  }
  
  setSliderPosition(clientX) {
    const rect = this.container.getBoundingClientRect();
    let position = ((clientX - rect.left) / rect.width) * 100;
    position = Math.max(0, Math.min(100, position));
    
    this.lightImage.style.clipPath = `polygon(0 0, ${position}% 0, ${position}% 100%, 0 100%)`;
    this.sliderHandle.style.left = `${position}%`;
  }
}

// Initialize the slider when page loads
document.addEventListener('DOMContentLoaded', () => {
  new ImageComparisonSlider('imageSlider');
});
</script>

</body>
</html>
